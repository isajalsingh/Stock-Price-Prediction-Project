<!DOCTYPE html>
<html>

<head>
  <title>HEROMOTOCO Stock Prediction</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <img src="./Hero_MotoCorp_Logo.svg" alt="" id="logo">
    <img src="./pngwing.com (1).png" alt="" id="pngwing">
    <br><br><br>
    <h1 id="heading">Stock Price Prediction</h1>
    <div>
      <input type="date" id="date" text-color="white" />
      <button type="button" id="btn" class="btn btn-success" onclick="getPrice()">Get Price</button>
    </div>
    <p id="res">
      The value of the HEROMOTOCO stock is predicted to be
      <span id="predicted"></span> on <span id="date_on_page"></span> as
      predicted using Linear regression
    </p>

    <div id="graph">
      <script type="text/javascript">window.PlotlyConfig = { MathJaxConfig: 'local' };</script>
      <script src="js/chart-part1.js"></script>
      <div id="ec155336-0a7e-46f3-a61e-4a63c0642f31" class="plotly-graph-div" style="height:100%; width:100%; display: block; opacity: 0;"></div>
      <script src="js/chart-part2.js"></script>
    </div>

    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"></script>
  </div>
</body>

<script>
  function getPrice() {
    // Define the slope and y-intercept of the line
    let graph = document.getElementById("ec155336-0a7e-46f3-a61e-4a63c0642f31");
    graph.style.opacity = "1";
    const date = document.getElementById("date").value;
    const dateA = new Date(date);
    const dateB = new Date("2000-01-03");
    // Calculate the time difference between the two dates
    const timeDiff = Math.abs(dateB.getTime() - dateA.getTime());
    // Convert the time difference to days
    const noOfDays = Math.ceil(timeDiff / (1000 * 3600 * 24));
    const m = 0.64487751677852;
    const c = 61.613976510067;
    // Define the input x-coordinate
    x = noOfDays;
    // Calculate the corresponding y-coordinate
    let y = m * x + c;
    y = y.toFixed(4);
    document.getElementById("predicted").innerHTML = y;
    document.getElementById("date_on_page").innerHTML = date;
    // console.log(y);
    document.getElementById("res").style.display = "block";
    // document.getElementById("image").style.display = "block";
  }
  // const button = document.getElementById("btn");
  // button.addEventListener("click", getPrice);

  // $(".datepicker").datepicker({
  //   ok: "",
  //   clear: "Clear selection",
  //   close: "Cancel",
  // });
</script>

</html>